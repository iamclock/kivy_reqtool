
# Tabs example exercise 34
TabsEx:
<TabsEx@TabbedPanel>:
    do_default_tab: False
    
    TabbedPanelItem:
        text: "Cert util"
        BoxLayout:
            orientation: "vertical"
            Label:
                text: "Utility"
            Button:
                text: "Done"
    TabbedPanelItem:
        text: "Req resolver"
        BoxLayout:
            orientation: "vertical"
            Label:
                text: "Resolver"
            Button:
                text: "Resolve"
    TabbedPanelItem:
        text: "Cert convertor"
        BoxLayout:
            orientation: "vertical"
            Label:
                text: "Convertor"
            Button:
                text: "Convert"



# Splitters example exercise 33
# SplittersEx:
<SplittersEx>:
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        
        Splitter:
            sizable_from: "bottom"
        
            Button:
                text: "One"
                font_size: 22
        
        Label:
            text: "Two"
            font_size: 22
        
        Splitter:
            sizable_from: "top"
            Button:
                text: "Three"
                font_size: 22
        
        GridLayout:
            cols: 2
            
            Button:
                text: "Lqweasd"
                font_size: 22
            
            Splitter:
                sizable_from: "left"
                
                Button:
                    text: "Rdsfsre"
                    font_size: 22






# Spinner example exercise 32
# здесь не вызывается "CustomLayout:" явно,
#+ потому что определён класс в скрипте с явной сборкой и последующим его вызовом
# SpinnerEx:
<SpinnerEx>:
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
    
        Label:
            id: click_label
            #FIXME: Почему то накладывается текст сообщения спиннера,
            #+ после его выбора надо разобраться почему.
            #+ Правится заданием текста сообщения Label из конструктора класса (build),
            #+ из которого создаётся экземпляр класса CustomLayout
            #FIXED: Ошибка была из-за Builder.load_file("ExampleApp.kv"), который загружался
            #+ ещё и неявно из-за чего было толи 2 слоя, толи 2 экземпляра класса Label
            text: "Issuer"
            font_size: 22
        
        Spinner:
            id: spinner_id
            text: "Issuer"
            values: ["ip1", "ip2", "ip3", "ip4"]
            on_text: root.spinner_clicked(spinner_id.text)
        
        BoxLayout:



# ScreenManager example exercise 31
# WindowsManager:
    # MainWindow:
    # RequestSatisfaction:
    # CertificateConverter:

<MainWindow>:
    name: "Main"
    
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        
        Label:
            text: "Main"
            font_size: 22
        
        Button:
            text: "Next screen"
            font_size: 22
            on_release:
                app.root.current = "Satisfaction"
                root.manager.transition.direction = "left"
    
<RequestSatisfaction>:
    name: "Satisfaction"
    
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        
        Label:
            text: "Satisfaction"
            font_size: 22
        
        Button:
            text: "Next screen"
            font_size: 22
            on_release: 
                app.root.current = "Main"
                root.manager.transition.direction = "right"

<CertificateConverter>:



# Popup example exercise 30
# PopupEx:
#:import Factory kivy.factory.Factory
<PopupWindow@Popup>:
    auto_dismiss: False
    size_hint: .6, .2
    pos_hint: {"x": .2, "top": .65}
    
    title: "Popup window"
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        
        Label:
            text: "Something interesting"
            font_size: 18
        
        Button:
            text: "Okay"
            font_size: 18
            on_release: root.dismiss()
    

<PopupEx@Widget>:
    BoxLayout:
        size: root.width, root.height
        orientation: "vertical"

        Label:
            text: "Popup Label"
            font_size: 18
            
        Button:
            text: "Popup Button"
            font_size: 18
            on_release: Factory.PopupWindow().open()
        

# MyLayout2:
# MyGridLayout:

# <TextInput>:
#     font_size: 18
    # size_hint: 1, .3

# <Label>:
#     font_size: 22
#     size_hint: 1, .4

<MyLayout2@Widget>:
    background_color: 0, 187/255, 1,1
    canvas.before:
        Color:
            rgba: self.background_color
        Rectangle:
            size: self.size
            pos: self.pos
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        padding: 10
        spacing: 10
        
        Label:
            font_size: 22
            size_hint: 1, .4
            text: "Name"
            background_color: 0, 0, 1, 1
            color: 0, 1, 0, 1
            bold: True
            italic: True
            outline_color: 1, 1, 1, 1
            outline_width: 2
            canvas.before:
                Color:
                    rgba: self.background_color
                Rectangle:
                    size: self.size
                    pos: self.pos
        TextInput:
            font_size: 18
            size_hint: 1, .3
            multiline: False

        Label:
            background_color: 204/255, 131/255, 6/255, 1
            canvas.before:
                Color:
                    rgba: self.background_color
                Rectangle:
                    size: self.size
                    pos: self.pos
            font_size: 22
            size_hint: 1, .4
            text: "SurName"
        TextInput:
            font_size: 18
            size_hint: 1, .35
            multiline: False

        Button:
            text: "Submit"
        Button:
            text: "Clear"
        






# MyLayout:
<MyLayout@Widget>:
    BoxLayout:
        size: root.width, root.height
        orientation: "vertical"
        spacing: 20
        padding: 50
        Button:
            text: "qwe"
        Button:
            text: "asd"
        Button:
            pos_hint: {"center_x": .5}
            size_hint: .15, .25
            text: "zxc"


<MyGridLayout>
    
    name: name
    surname: surname
    color: color
    
    ScrollView:
        size: root.width, root.height
        BoxLayout:
            spacing: 20
            orientation: "vertical"
            GridLayout:
                cols: 2
                pos_hint: {"center_x": .5}
                size_hint: .5, .1
                
                Label:
                    text: "Name"
                TextInput:
                    id: name
                    text: "Ass"
                    multiline: False
                
                Label:
                    text: "Surname"
                TextInput:
                    id: surname
                    text: "Butt"
                    multiline: False
                
                Label:
                    text: "Color"
                TextInput:
                    id: color
                    text: "Dildo"
                    multiline: False

            Button:
                text: "Submit"
                font_size: 22
                background_color: .2, .9, .1, 1
                # background_normal: "imgs/5.large.jpg"
                pos_hint: {"center_x": .5}
                size_hint: (.25, .1)
                # height: 100
                on_press: root.submit(self)
            